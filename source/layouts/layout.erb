<%#
Copyright 2008-2013 Concur Technologies, Inc.

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.
%>
<% language_tabs = current_page.data.language_tabs || [] %>
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" type="image/png" href="images/alaunus-tiny.png" />
    <title><%= current_page.data.title || "API Documentation" %></title>

    <style>
      <%= Rouge::Themes::MonokaiSublime.render(:scope => '.highlight') %>
    </style>
    <%= stylesheet_link_tag :screen, media: :screen %>
    <%= stylesheet_link_tag :print, media: :print %>
    <% if current_page.data.search %>
      <%= javascript_include_tag  "all" %>
    <% else %>
      <%= javascript_include_tag  "all_nosearch" %>
    <% end %>

    <script type="text/javascript" url="javascripts/lib/_jquery.js"></script>
    <script type="text/javascript" url="javascripts/lib/_jquery.tocify.js"></script>
    <script type="text/javascript" url="javascripts/app/_lang.js"></script>
    <script type="text/javascript" url="javascripts/app/_toc.js"></script>

    <script type="text/javascript">

      function showHide(id, classe) {
        // global.toc.calculateHeights();

        // history.replaceState({}, "", "#" + id);
        var $el = $(id);
        if ($el.css('display') == 'none') {
          $el.show();
        } else {
          $el.hide();
          $(classe).hide();
        }
      }

    </script>
  </head>

  <body class="<%= page_classes %>" data-languages="<%=h language_tabs.map{ |lang| lang.is_a?(Hash) ? lang.keys.first : lang }.to_json %>">
    <a href="#" id="nav-button">
      <span>
        NAV
        <%= image_tag('navbar.png') %>
      </span>
    </a>
    <div class="tocify-wrapper">
      <%= image_tag "logo.png" %>
      <% if language_tabs %>
        <div class="lang-selector">
          <% language_tabs.each do |lang| %>
            <% if lang.is_a? Hash %>
              <a href="#" data-language-name="<%= lang.keys.first %>"><%= lang.values.first %></a>
            <% else %>
              <a href="#" data-language-name="<%= lang %>"><%= lang %></a>
            <% end %>
          <% end %>
        </div>
      <% end %>
      <% if current_page.data.search %>
      <% end %>
      <div id="toc">
      </div>
      <% if current_page.data.toc_footers %>
        <ul class="toc-footer">
          <% current_page.data.toc_footers.each do |footer| %>
            <li><%= footer %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <%= yield %> <!-- read stuff from markdown file -->

        <h1 id="query">Query</h1>

        <h2 id="queries">Queries</h2>

        <div class="div-table">

          <div class="div-table-row head-row">
              <div class="div-table-col attribute" style="color:black;"><b><u>Operators</u></b></div>
              <div class="div-table-col description" style="color:black;"><b><u>Notes</u></b></div>
          </div>

          <div id="query-table-equality">

            <div class="div-table-row">
              <div class="div-table-col attribute">
                  equality
                  <br>
                <a class="showhideclick" href="#" onclick="showHide('.equality-operator'); return false;">(show more) </a>
              </div>
              <div class="div-table-col description">
                passes if the document's value is equal to the query's value for the specified field
              </div>
            </div>

            <div class="div-table-row equality-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="color:black;background-color:lightcyan;"><b><u>Query Format</u></b></div>
              <div class="div-table-col description" style="color:black;background-color:lightcyan;"><b><u>Examples</u></b></div>
            </div>

            <div class="div-table-row equality-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="background-color: lightcyan;">
                "field":value
              </div>
              <div class="div-table-col description" style="background-color: lightcyan;">
                "name.first":"Jane"
                <br>
                "age":30
              </div>
            </div>
          </div>

          <div id="query-table-gt-gte">

            <div class="div-table-row">
              <div class="div-table-col attribute">
                $gt, $gte, $lt, $lte, $ne
                <br>
                <a class="showhideclick" href="#" onclick="showHide('.gt-gte-operator'); return false;">(show more) </a>
              </div>
              <div class="div-table-col description">
                similar to the equality operator, but with the other comparison operators instead: 
                <br>
                >, >=, <, <=, !=
              </div>
            </div>

            <div class="div-table-row gt-gte-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="color:black;background-color:lightcyan;"><b><u>Query Format</u></b></div>
              <div class="div-table-col description" style="color:black;background-color:lightcyan;"><b><u>Examples</u></b></div>
            </div>

            <div class="div-table-row gt-gte-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="background-color: lightcyan;">
                "field":{"operator":value}
              </div>
              <div class="div-table-col description" style="background-color: lightcyan;">
                "date_of_birth":{"$gte":"1981-07-01"}
                <br>
                "_id":{"$ne":"542d8675e59911df228b45a4"}
              </div>
            </div>
          </div>

          <div id="query-table-in-nin">

            <div class="div-table-row">
              <div class="div-table-col attribute">
                $in, $nin
                <br>
                <a class="showhideclick" href="#" onclick="showHide('.in-nin-operator'); return false;">(show more) </a>
              </div>
              <div class="div-table-col description">
                $in: passes if the document's value is equal to one of the query's values for the specified field
                <br>
                $nin: passes if the document's value is not equal to any of the query's values for the field
              </div>
            </div>

            <div class="div-table-row in-nin-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="color:black;background-color:lightcyan;"><b><u>Query Format</u></b></div>
              <div class="div-table-col description" style="color:black;background-color:lightcyan;"><b><u>Examples</u></b></div>
            </div>

            <div class="div-table-row in-nin-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="background-color: lightcyan;">
                "field":{"operator":array(values)}
              </div>
              <div class="div-table-col description" style="background-color: lightcyan;">
                "_id":{"$in":["542d8675e59911df228b45a4", "53d93f4de5a2111758000518"]}
              </div>
            </div>
          </div>

          <div id="query-table-exists">

            <div class="div-table-row">
              <div class="div-table-col attribute">
                  $exists
                  <br>
                <a class="showhideclick" href="#" onclick="showHide('.exists-operator'); return false;">(show more) </a>
              </div>
              <div class="div-table-col description">
                passes if the specified field exists/doesn't exist in the document
              </div>
            </div>

            <div class="div-table-row exists-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="color:black;background-color:lightcyan;"><b><u>Query Format</u></b></div>
              <div class="div-table-col description" style="color:black;background-color:lightcyan;"><b><u>Examples</u></b></div>
            </div>

            <div class="div-table-row exists-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="background-color: lightcyan;">
                "field":{"$exists":[true, false]}
              </div>
              <div class="div-table-col description" style="background-color: lightcyan;">
                "_deleted":{"$exists":false}
                <br>
                "phones":{"$exists":true}
              </div>
            </div>
          </div>

          <div id="query-table-or-and-not">

            <div class="div-table-row">
              <div class="div-table-col attribute">
                $or, $and, $not ,$nor
                <br>
                <a class="showhideclick" href="#" onclick="showHide('.or-and-not-operator'); return false;">(show more) </a>
              </div>
              <div class="div-table-col description">
                $or: passes if one of the subqueries passes
                <br>
                $and: passes if all of the subqueries pass
                <br>
                $not: inverts the result of the subqueries
                <br>
                $nor: passes if none of the subqueries pass
              </div>
            </div>

            <div class="div-table-row or-and-not-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="color:black;background-color:lightcyan;"><b><u>Query Format</u></b></div>
              <div class="div-table-col description" style="color:black;background-color:lightcyan;"><b><u>Examples</u></b></div>
            </div>

            <div class="div-table-row or-and-not-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="background-color: lightcyan;">
                "operator":array({queries})              
              </div>
              <div class="div-table-col description" style="background-color: lightcyan;">
                "$or":[{"name.first":"Jane"}, {"name.first":"John"}]
              </div>
            </div>
          </div>

          <div id="query-table-elemmatch">

            <div class="div-table-row">
              <div class="div-table-col attribute">
                $elemMatch
                <br>
                <a class="showhideclick" href="#" onclick="showHide('.elemmatch-operator'); return false;">(show more) </a>
              </div>
              <div class="div-table-col description">
                passes if all subqueries pass on the document's subfields of field
                <ul>
                  <li>the fields of the subqueries are the subfields of field</li>
                  <li>the outer field must be of type subdocuments or array</li>
                </ul>
              </div>
            </div>

            <div class="div-table-row elemmatch-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="color:black;background-color:lightcyan;"><b><u>Query Format</u></b></div>
              <div class="div-table-col description" style="color:black;background-color:lightcyan;"><b><u>Examples</u></b></div>
            </div>

            <div class="div-table-row elemmatch-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="background-color: lightcyan;">
                "field":{"$elemMatch":{queries}}              
              </div>
              <div class="div-table-col description" style="background-color: lightcyan;">
                "services":{"$elemMatch":{"service":"536f3444f518db6e5202a32c", "bill_rate.rate":23.95}}
              </div>
            </div>
          </div>

          <div id="query-table-regex">

            <div class="div-table-row">
              <div class="div-table-col attribute">
                $regex
                <br>
                <a class="showhideclick" href="#" onclick="showHide('.regex-operator'); return false;">(show more) </a>
              </div>
              <div class="div-table-col description">
                passes if the document's value matches the pattern of the query's value for the specified field
                <ul>
                  <li>this is useful for partial string matching</li>
                  <li>for the given example, value "and" accepts names like "Andrew", "Sandy", "Ferdinand", ...</li>
                  <li>"$options":"i" means case insensitive</li>
                  <li>there are other options: m, x, s</li>
                  <li>refer to <a href="http://docs.mongodb.org/manual/reference/operator/query/regex/" target="_blank">mongodb</a></li>
                </ul>
              </div>
            </div>

            <div class="div-table-row regex-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="color:black;background-color:lightcyan;"><b><u>Query Format</u></b></div>
              <div class="div-table-col description" style="color:black;background-color:lightcyan;"><b><u>Examples</u></b></div>
            </div>

            <div class="div-table-row regex-operator child" style="display:none;background-color:lightcyan;">
              <div class="div-table-col attribute" style="background-color: lightcyan;">
                "field":{"$regex":value, "$options":"i"}              
              </div>
              <div class="div-table-col description" style="background-color: lightcyan;">
                "name.first":{"$regex":"and","$options":"i"}
              </div>
            </div>
          </div>
        </div>



        <% Dir.glob("source/jsonfiles/*.json") do |jsonfilepath| %>  <!-- loop through folder and jsonfilepath = path to each json file -->
          
          <% require 'json' %>
          <% file = File.read(jsonfilepath) %>       <!-- read each json file -->
          <% my_json_hash = JSON.parse(file) %>      <!-- read each json file -->

          <% jsontitle = jsonfilepath %>      <!-- use the name of the json file as title -->
          <% jsontitle.slice! "source/jsonfiles/" %>    <!-- use the name of the json file as title -->
          <% jsontitle.slice! ".json" %>      <!-- use the name of the json file as title -->

          <% if (my_json_hash.key?("attrs")) && (!my_json_hash['documentationhide']) %>      <!-- check if the key 'attrs' exists -->
            
            <h1 id="<%= jsontitle %>"><%= jsontitle.capitalize %></h1>    <!-- print title on html -->
            
            <% jsondescfilepath = 'source/jsonfiles/descriptions/description' + jsontitle + '.json' %>    <!-- create path for the description file -->

            <%# description_file = File.read(jsondescfilepath) %>     <!-- read each json description file -->
            <% description_file = File.read('source/jsonfiles/descriptions/descriptionfilej1.json') %>     <!-- because testing (codes, ruby, python, etc)-->
          
            <% my_json_languages_hash = JSON.parse(description_file) %>             <!-- read each json description file -->

            <% my_json_hash_sorted = my_json_hash['attrs'].sort %>

            <h2 id="<%= jsontitle + '_object' %>">The <%= jsontitle %> object</h2>     <!--  prints each subtitle on the html --> 

            <!-- Information's table -->
            <h3> Attributes: </h3>
            <div class="div-table">
              <div class="div-table-row head-row">
                  <div class="div-table-col attribute" style="color:black;"><b><u>Attribute</u></b></div>
                  <div class="div-table-col description" style="color:black;"><b><u>Description</u></b></div>
              </div>

              <div id="<%= jsontitle %>-table">
                <% my_json_hash_sorted.each do |a| %>       <!-- loop through each section inside the attrs key on the json file -->
                <% if (my_json_hash['attrs'][a[0]]['documentation'].key?("hide")) && (!my_json_hash['attrs'][a[0]]['documentation']['hide']) %>

                  <div class="div-table-row">
                      <div class="div-table-col attribute">
                        <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>', '.a-<%= a[0] %>'); return false;">
                          <%= a[0]%></a>
                        <% if (a[1].key?("type")) %>
                          <br><%= a[1]['type'] %>&nbsp;
                        <% end %>

                      </div>
                      <div class="div-table-col description">
                        <%= a[1]['documentation']['description'] %>
                      </div>
                  </div>

                  <% if (a[1]['type']!='subdocuments') && (a[1]['type']!='subdocument') %>

                        <% a[1].each do |b| %>
                        <% if b[0] != 'documentation' %>

                          <div class="div-table-row child a-<%= a[0] %> <%= jsontitle %>-sub-<%= a[0] %>" style="display:none;background-color:lightcyan;">
                            <div class="div-table-col attribute" style="background-color: lightcyan;">
                              <% if (b[1].is_a?(Hash)) %>
                                <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>', '.b-<%= b[0] %>' ); return false;">
                                  <%= b[0]%></a> 
                              <% else %>
                                <%= b[0] %>
                              <% end %>

                              <% if (b[1].is_a?(Hash)) && (b[1].key?("type")) %>
                                <br> <%= b[1]['type'] %>&nbsp;
                              <% end %>
                              
                            </div>
                            <div class="div-table-col description" style="background-color: lightcyan;">
                              <% if (b[1].is_a?(Hash)) && (b[1].key?("documentation")) %>
                                <%= b[1]['documentation']['description'] %> 
                              <% end %>
                              
                            </div>
                          </div>

                          <% if (b[1].is_a?(Hash)) %>
                          
                            <% if (b[1]['type']!='subdocuments') && (b[1]['type']!='subdocument') %>

                                    <% b[1].each do |c| %>
                                    <% if c[0] != 'documentation' %>

                                      <div class="div-table-row child a-<%= a[0] %> b-<%= b[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>" style="display:none;background-color: #eaf2f6;">
                                        <div class="div-table-col attribute" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) %>
                                            <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>', '.c-<%= c[0] %>'); return false;">
                                              <%= c[0] %></a> 
                                          <% else %>
                                            <%= c[0] %>
                                          <% end %>

                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("type")) %>
                                            <br> <%= c[1]['type'] %>
                                          <% end %>
                                          
                                        </div>
                                        <div class="div-table-col description" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("documentation")) %>
                                            <%= c[1]['documentation']['description'] %> 
                                          <% end %>
                                          
                                        </div>
                                      </div>

                                      <% if (c[1].is_a?(Hash)) %> 

                                        <% if (c[1]['type']!='subdocuments') && (c[1]['type']!='subdocument') %>

                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->
                                        <% else %>
                                                  <% c[1] = c[1]['subdocument'] %>
                                                  
                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->

                                        <% end %>
                                      <% end %>

                                    <% end %>
                                    <% end %>
                                    <!-- end b loop when it is not subdocument-->

                            <% else %>
                                    <% b[1] = b[1]['subdocument'] %>

                                    <% b[1].each do |c| %>
                                    <% if c[0] != 'documentation' %>

                                      <div class="div-table-row child a-<%= a[0] %> b-<%= b[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>" style="display:none;background-color: #eaf2f6;">
                                        <div class="div-table-col attribute" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) %>
                                            <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>', '.c-<%= c[0] %>'); return false;">
                                              <%= c[0] %></a> 
                                          <% else %>
                                            <%= c[0] %>
                                          <% end %>

                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("type")) %>
                                            <br> <%= c[1]['type'] %>
                                          <% end %>
                                          
                                        </div>
                                        <div class="div-table-col description" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("documentation")) %>
                                            <%= c[1]['documentation']['description'] %> 
                                          <% end %>
                                          
                                        </div>
                                      </div>

                                      <% if (c[1].is_a?(Hash)) %> 

                                        <% if (c[1]['type']!='subdocuments') && (c[1]['type']!='subdocument') %>

                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->
                                        <% else %>
                                                  <% c[1] = c[1]['subdocument'] %>
                                                  
                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->


                                        <% end %>
                                      <% end %>

                                    <% end %>
                                    <% end %>
                                    <!-- end b loop when it is not subdocument-->

                            <% end %>
                          
                          <% end %>
                          <!-- end check if b is a hash -->

                        <% end %>
                        <% end %>
                        <!-- end a loop -->



                  <% else %>
                        <% a[1] = a[1]['subdocument'] %>

                        <% a[1].each do |b| %>
                        <% if b[0] != 'documentation' %>

                          <div class="div-table-row child a-<%= a[0] %> <%= jsontitle %>-sub-<%= a[0] %>" style="display:none;background-color:lightcyan;">
                            <div class="div-table-col attribute" style="background-color: lightcyan;">
                              <% if (b[1].is_a?(Hash)) %>
                                <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>', '.b-<%= b[0] %>' ); return false;">
                                  <%= b[0]%></a> 
                              <% else %>
                                <%= b[0] %>
                              <% end %>

                              <% if (b[1].is_a?(Hash)) && (b[1].key?("type")) %>
                                <br> <%= b[1]['type'] %>&nbsp;
                              <% end %>
                              
                            </div>
                            <div class="div-table-col description" style="background-color: lightcyan;">
                              <% if (b[1].is_a?(Hash)) && (b[1].key?("documentation")) %>
                                <%= b[1]['documentation']['description'] %> 
                              <% end %>
                              
                            </div>
                          </div>

                          <% if (b[1].is_a?(Hash)) %>
                          
                            <% if (b[1]['type']!='subdocuments') && (b[1]['type']!='subdocument') %>

                                    <% b[1].each do |c| %>
                                    <% if c[0] != 'documentation' %>

                                      <div class="div-table-row child a-<%= a[0] %> b-<%= b[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>" style="display:none;background-color: #eaf2f6;">
                                        <div class="div-table-col attribute" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) %>
                                            <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>', '.c-<%= c[0] %>'); return false;">
                                              <%= c[0] %></a> 
                                          <% else %>
                                            <%= c[0] %>
                                          <% end %>

                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("type")) %>
                                            <br> <%= c[1]['type'] %>
                                          <% end %>
                                          
                                        </div>
                                        <div class="div-table-col description" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("documentation")) %>
                                            <%= c[1]['documentation']['description'] %> 
                                          <% end %>
                                          
                                        </div>
                                      </div>

                                      <% if (c[1].is_a?(Hash)) %> 

                                        <% if (c[1]['type']!='subdocuments') && (c[1]['type']!='subdocument') %>

                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->
                                        <% else %>
                                                  <% c[1] = c[1]['subdocument'] %>
                                                  
                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->

                                        <% end %>
                                      <% end %>

                                    <% end %>
                                    <% end %>
                                    <!-- end b loop when it is not subdocument-->

                            <% else %>
                                    <% b[1] = b[1]['subdocument'] %>

                                    <% b[1].each do |c| %>
                                    <% if c[0] != 'documentation' %>

                                      <div class="div-table-row child a-<%= a[0] %> b-<%= b[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>" style="display:none;background-color: #eaf2f6;">
                                        <div class="div-table-col attribute" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) %>
                                            <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>', '.c-<%= c[0] %>'); return false;">
                                              <%= c[0] %></a> 
                                          <% else %>
                                            <%= c[0] %>
                                          <% end %>

                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("type")) %>
                                            <br> <%= c[1]['type'] %>
                                          <% end %>
                                          
                                        </div>
                                        <div class="div-table-col description" style="background-color: #eaf2f6;">
                                          <% if (c[1].is_a?(Hash)) && (c[1].key?("documentation")) %>
                                            <%= c[1]['documentation']['description'] %> 
                                          <% end %>
                                          
                                        </div>
                                      </div>

                                      <% if (c[1].is_a?(Hash)) %> 

                                        <% if (c[1]['type']!='subdocuments') && (c[1]['type']!='subdocument') %>

                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->
                                        <% else %>
                                                  <% c[1] = c[1]['subdocument'] %>
                                                  
                                                  <% c[1].each do |d| %>
                                                  <% if d[0] != 'documentation' %>

                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>" style="display:none;background-color: lightgreen;">
                                                      <div class="div-table-col attribute" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) %>
                                                          <a class="showhideclick" href="#" onclick="showHide('.<%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>', '.d-<%= d[0] %>'); return false;">
                                                            <%= d[0] %></a> 
                                                        <% else %>
                                                          <%= d[0] %>
                                                        <% end %>
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("type")) %>
                                                          <br> <%= d[1]['type'] %>
                                                        <% end %>
                                                        
                                                      </div>
                                                      <div class="div-table-col description" style="background-color: lightgreen;">
                                                        <% if (d[1].is_a?(Hash)) && (d[1].key?("documentation")) %>
                                                          <%= d[1]['documentation']['description'] %> 
                                                        <% end %>
                                                        
                                                      </div>
                                                    </div>

                                                    <% if (d[1].is_a?(Hash)) %> 
                                                    
                                                      <% if (d[1]['type']!='subdocuments') && (d[1]['type']!='subdocument') %>

                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% else %>
                                                                  <% d[1] = d[1]['subdocument'] %>
                                                                  
                                                                  <% d[1].each do |e| %>
                                                                  <% if e[0] != 'documentation' %>

                                                                    <div class="div-table-row a-<%= a[0] %> b-<%= b[0] %> c-<%= c[0] %> d-<%= d[0] %> <%= jsontitle %>-sub-<%= a[0] %>-<%= b[0] %>-<%= c[0] %>-<%= d[0] %>" style="display:none;background-color: lightpink;">
                                                                      <div class="div-table-col attribute" style="background-color: lightpink;">
                                                                        <%= e[0] %>
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("type")) %>
                                                                          <br> <%= e[1]['type'] %>
                                                                        <% end %>
                                                                      </div>
                                                                      <div class="div-table-col description" style="background-color: lightpink;">
                                                                        <% if (e[1].is_a?(Hash)) && (e[1].key?("documentation")) %>
                                                                          <%= e[1]['documentation']['description'] %> 
                                                                        <% end %>
                                                                        
                                                                      </div>
                                                                    </div>

                                                                  <% end %>
                                                                  <% end %>
                                                      <% end %>
                                                    <% end %>
                                                    <!-- end d loop -->

                                                  <% end %>
                                                  <% end %>
                                                  <!-- end c loop -->


                                        <% end %>
                                      <% end %>

                                    <% end %>
                                    <% end %>
                                    <!-- end b loop when it is not subdocument-->

                            <% end %>
                          
                          <% end %>
                          <!-- end check if b is a hash -->

                        <% end %>
                        <% end %>
                        <!-- end a loop -->

                  <% end %>

                <% end %>
                <% end %>
                <!-- end collection loop -->

              </div>
            </div>
            <!-- end collection table -->

            <% examples = true %>

            <% if examples == true %>

              <!-- Code for printing examples and language -->
              <% my_json_hash['codes'].each do |langs| %>     <!-- loop through all the different codes on the json file --> 
                <% entirecode = '' %> 
                <% if (langs[0] == 'shell') %>       
                  <% langs[1].each do |lines| %>        <!-- loop through each line of each code -->
                    <% entirecode = entirecode + lines[1] + "\n" %>    <!-- put all the lines together -->
                  <% end %>
                  <% highlightedcode = Rouge.highlight(entirecode, langs[0], 'html') %>     <!-- pretty colors -->
                  <% highlightedcode.gsub! '<pre class="highlight"', '<pre class="highlight' + ' ' + langs[0] + '"' %>   <!-- makes so each language block of code has its own subclass -->
                  <%= highlightedcode %>
                <% end %>
              <% end %>
            <% end %>

            <% if (my_json_hash.key?("kralho")) %>
              <% kralho = my_json_hash["kralho"]["line4"] %>
              <%# kralho.gsub! "'", '"' %>   <!-- makes so each language block of code has its own subclass -->

            <%# my_json_hash_pretty = JSON.pretty_generate(kralho) %>    <!-- sit still, look pretty; the except is used so the description doesnt show on the json code block -->
            <%# var my__json = JSON.stringify(eval("(" + kralho + ")")) %>

              <% my_json_hash_pretty = JSON.pretty_generate(kralho) %>    <!-- sit still, look pretty; the except is used so the description doesnt show on the json code block -->


              <%= Rouge.highlight(my_json_hash_pretty, 'json', 'html') %>   <!-- pretty colors -->


            <% end %>
            

            <!-- ///////////////////////////////////////////// -->

           <!--  <blockquote>
              <p>The above command returns JSON structured like this:</p>
            </blockquote>  -->

            <!-- Check if there is something nested that needs to be hidden -->

            <%# if a[1].key?("somethingdeepinside") %>
              <%# value = a[1]['somethingdeepinside'] %>
              <%# a[1] = a[1].except('somethingdeepinside') %>

              <%# if a[1][value].key?("somethingdeepinside") %>  <!--if a[1]['subdocument'].key? -->
                <%# a[1][value] = a[1][value].except(a[1][value]['somethingdeepinside']) %>
                <%# a[1][value] = a[1][value].except('somethingdeepinside') %>
              <%# else %>
                <%# a[1][value] = a[1][value].except(value) %>
                <%# a[1][value] = a[1][value].except('somethingdeepinside') %>  
              <%# end %>

            <%# end %>

            <%# my_json_hash_pretty = JSON.pretty_generate(a[1].except('documentation')) %>    <!-- sit still, look pretty; the except is used so the description doesnt show on the json code block -->

            <!-- <code><%#= Rouge.highlight(my_json_hash_pretty, 'json', 'html') %></code>     pretty colors --> 

            <!-- <p><%#= a[1]['documentation']['description'] %></p>     display the description --> 

            

            <!-- Notice, warning and success -->

            <%# if a[1]['documentation'].key?("notice") %>
              <!-- <aside class="notice"><%#= a[1]['documentation']['notice'] %></aside> -->
            <%# end %>

            <%# if a[1]['documentation'].key?("warning") %>
              <!-- <aside class="warning"><%#= a[1]['documentation']['warning'] %></aside> -->
            <%# end %>

            <%# if a[1]['documentation'].key?("success") %>
              <!-- <aside class="success"><%#= a[1]['documentation']['success'] %></aside> -->
            <%# end %>

            <%= ERB.new(File.read(File.expand_path("source/layouts/crud/create.erb"))).result(binding) %>
            
            
            <%= ERB.new(File.read(File.expand_path("source/layouts/crud/edit.erb"))).result(binding) %>
            

            <%= ERB.new(File.read(File.expand_path("source/layouts/crud/delete.erb"))).result(binding) %>
            

            <%= ERB.new(File.read(File.expand_path("source/layouts/crud/get.erb"))).result(binding) %>

            
            <%= ERB.new(File.read(File.expand_path("source/layouts/crud/list.erb"))).result(binding) %>

            

          <% end %>
          <!-- end show collection -->
        
        <% end %>
        <!-- end all collections (.json) loop -->

      </div>     <!-- closes class="content" -->
      <div class="dark-box">
        <% if language_tabs %>
          <div class="lang-selector">
            <% language_tabs.each do |lang| %>
              <% if lang.is_a? Hash %>
                <a href="#" data-language-name="<%= lang.keys.first %>"><%= lang.values.first %></a>
              <% else %>
                <a href="#" data-language-name="<%= lang %>"><%= lang %></a>
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </body>
</html>
